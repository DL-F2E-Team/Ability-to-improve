<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ECMAScript | F2E</title>
    <meta name="description" content="Not just playing around">
    
    
    <link rel="preload" href="/ability-to-improve/assets/css/0.styles.dc26396b.css" as="style"><link rel="preload" href="/ability-to-improve/assets/js/app.77b3c05a.js" as="script"><link rel="preload" href="/ability-to-improve/assets/js/3.0e2e58c8.js" as="script"><link rel="preload" href="/ability-to-improve/assets/js/2.86c3e483.js" as="script"><link rel="preload" href="/ability-to-improve/assets/js/33.00413215.js" as="script"><link rel="prefetch" href="/ability-to-improve/assets/js/10.2388c4c1.js"><link rel="prefetch" href="/ability-to-improve/assets/js/11.fd10a618.js"><link rel="prefetch" href="/ability-to-improve/assets/js/12.a4895c67.js"><link rel="prefetch" href="/ability-to-improve/assets/js/13.69d36c26.js"><link rel="prefetch" href="/ability-to-improve/assets/js/14.012ef4bd.js"><link rel="prefetch" href="/ability-to-improve/assets/js/15.d80712ae.js"><link rel="prefetch" href="/ability-to-improve/assets/js/16.b2cd60ae.js"><link rel="prefetch" href="/ability-to-improve/assets/js/17.86c326cf.js"><link rel="prefetch" href="/ability-to-improve/assets/js/18.e57af9d3.js"><link rel="prefetch" href="/ability-to-improve/assets/js/19.52e73594.js"><link rel="prefetch" href="/ability-to-improve/assets/js/20.d5490286.js"><link rel="prefetch" href="/ability-to-improve/assets/js/21.50c2fef5.js"><link rel="prefetch" href="/ability-to-improve/assets/js/22.fdcb0ff9.js"><link rel="prefetch" href="/ability-to-improve/assets/js/23.ca6722db.js"><link rel="prefetch" href="/ability-to-improve/assets/js/24.30ff224f.js"><link rel="prefetch" href="/ability-to-improve/assets/js/25.91cbe791.js"><link rel="prefetch" href="/ability-to-improve/assets/js/26.d70d0b04.js"><link rel="prefetch" href="/ability-to-improve/assets/js/27.a1b2c8e5.js"><link rel="prefetch" href="/ability-to-improve/assets/js/28.ca496a15.js"><link rel="prefetch" href="/ability-to-improve/assets/js/29.cae735a3.js"><link rel="prefetch" href="/ability-to-improve/assets/js/30.2df8a50d.js"><link rel="prefetch" href="/ability-to-improve/assets/js/31.efe5281b.js"><link rel="prefetch" href="/ability-to-improve/assets/js/32.fa8c86c4.js"><link rel="prefetch" href="/ability-to-improve/assets/js/34.9df4e5b4.js"><link rel="prefetch" href="/ability-to-improve/assets/js/35.24ad7dc4.js"><link rel="prefetch" href="/ability-to-improve/assets/js/36.4aa27b93.js"><link rel="prefetch" href="/ability-to-improve/assets/js/37.a3c6c898.js"><link rel="prefetch" href="/ability-to-improve/assets/js/38.ddaa0164.js"><link rel="prefetch" href="/ability-to-improve/assets/js/39.caffe853.js"><link rel="prefetch" href="/ability-to-improve/assets/js/4.988a466e.js"><link rel="prefetch" href="/ability-to-improve/assets/js/40.68affac4.js"><link rel="prefetch" href="/ability-to-improve/assets/js/41.f1f27c9f.js"><link rel="prefetch" href="/ability-to-improve/assets/js/42.358856c8.js"><link rel="prefetch" href="/ability-to-improve/assets/js/43.f6fbca63.js"><link rel="prefetch" href="/ability-to-improve/assets/js/44.1f31f4e2.js"><link rel="prefetch" href="/ability-to-improve/assets/js/45.9ea658e7.js"><link rel="prefetch" href="/ability-to-improve/assets/js/46.3bfb6ab3.js"><link rel="prefetch" href="/ability-to-improve/assets/js/47.fb9b3db0.js"><link rel="prefetch" href="/ability-to-improve/assets/js/48.9b45621b.js"><link rel="prefetch" href="/ability-to-improve/assets/js/49.c4358e0a.js"><link rel="prefetch" href="/ability-to-improve/assets/js/5.ac4ed3de.js"><link rel="prefetch" href="/ability-to-improve/assets/js/50.5e66b6fe.js"><link rel="prefetch" href="/ability-to-improve/assets/js/51.aa3335d1.js"><link rel="prefetch" href="/ability-to-improve/assets/js/6.366dd5ff.js"><link rel="prefetch" href="/ability-to-improve/assets/js/7.024e8540.js"><link rel="prefetch" href="/ability-to-improve/assets/js/8.fb11f751.js"><link rel="prefetch" href="/ability-to-improve/assets/js/9.717d152e.js">
    <link rel="stylesheet" href="/ability-to-improve/assets/css/0.styles.dc26396b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ability-to-improve/" class="home-link router-link-active"><!----> <span class="site-name">F2E</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://lijiahao8898.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lijiahao8898" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lijiahao8898
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://lijiahao8898.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lijiahao8898" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lijiahao8898
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>目录</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/ability-to-improve/Problem.html" class="sidebar-link">工作记录</a></li><li><a href="/ability-to-improve/Test/" class="sidebar-link">面试</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ability-to-improve/javascript/" class="active sidebar-link">ECMAScript</a></li><li><a href="/ability-to-improve/javascript/Event.html" class="sidebar-link">事件流</a></li><li><a href="/ability-to-improve/javascript/Prototype.html" class="sidebar-link">Prototype</a></li><li><a href="/ability-to-improve/javascript/Context.html" class="sidebar-link">执行上下文、作用域和作用域链</a></li><li><a href="/ability-to-improve/javascript/This.html" class="sidebar-link">This</a></li><li><a href="/ability-to-improve/javascript/EventLoop.html" class="sidebar-link">Event Loop</a></li><li><a href="/ability-to-improve/javascript/Array.html" class="sidebar-link">数组</a></li><li><a href="/ability-to-improve/javascript/Function.html" class="sidebar-link">函数</a></li><li><a href="/ability-to-improve/javascript/Curry.html" class="sidebar-link">Curry - 函数柯里化</a></li><li><a href="/ability-to-improve/javascript/Class.html" class="sidebar-link">Class</a></li><li><a href="/ability-to-improve/javascript/SEO.html" class="sidebar-link">前端优化</a></li><li><a href="/ability-to-improve/javascript/mobile.html" class="sidebar-link">移动端适配方案</a></li><li><a href="/ability-to-improve/javascript/Question.html" class="sidebar-link">Question</a></li><li><a href="/ability-to-improve/javascript/Let-Const.html" class="sidebar-link">Let Const</a></li></ul></section></li><li><a href="/ability-to-improve/html/" class="sidebar-link">HTML</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>BOM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/ability-to-improve/blog/" class="sidebar-link">资料</a></li><li><a href="/ability-to-improve/tool/" class="sidebar-link">工具与方法</a></li><li><a href="/ability-to-improve/Taro/" class="sidebar-link">Taro</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/ability-to-improve/Plugin.html" class="sidebar-link">Github Library</a></li><li><a href="/ability-to-improve/Vue.html" class="sidebar-link">Vue Library</a></li><li><a href="/ability-to-improve/Juejin.html" class="sidebar-link">掘金</a></li><li><a href="/ability-to-improve/Weixin.html" class="sidebar-link">微信</a></li><li><a href="/ability-to-improve/Github.html" class="sidebar-link">Github</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#数据类型">数据类型</a></li><li><a href="#变量">变量</a></li><li><a href="#类型转换">类型转换</a><ul><li><a href="#什么情况下-a-1-a-2-a-3-返回-true-？">什么情况下 a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3 返回 true？</a></li></ul></li><li><a href="#数据类型检测">数据类型检测</a><ul><li><a href="#typeof">typeof</a></li><li><a href="#instanceof">instanceof</a></li></ul></li><li><a href="#字符串">字符串</a><ul><li><a href="#字符串处理方法">字符串处理方法</a></li></ul></li><li><a href="#正则表达式">正则表达式</a></li><li><a href="#bind、call-和-apply-区别">bind、call 和 apply 区别</a></li><li><a href="#闭包">闭包</a><ul><li><a href="#闭包产生的本质">闭包产生的本质</a></li></ul></li><li><a href="#settimeout-倒计时为什么会出现误差？">setTimeout 倒计时为什么会出现误差？</a></li><li><a href="#断点续传">断点续传</a></li><li><a href="#es6">ES6</a><ul><li><a href="#object">Object</a></li><li><a href="#number">Number</a></li><li><a href="#string">String</a></li></ul></li><li><a href="#dom">DOM</a><ul><li><a href="#dom">DOM</a></li><li><a href="#todo">TODO</a></li></ul></li><li><a href="#常见的设计模式有哪些？">常见的设计模式有哪些？</a></li><li><a href="#javascript模块化">JavaScript模块化</a><ul><li><a href="#commonjs">CommonJS</a></li><li><a href="#amd">AMD</a></li><li><a href="#cmd">CMD</a></li><li><a href="#umd">UMD</a></li><li><a href="#es6模块化">ES6模块化</a></li></ul></li><li><a href="#面向对象">面向对象</a></li><li><a href="#js-中的垃圾回收机制">JS 中的垃圾回收机制</a><ul><li><a href="#标记清除法">标记清除法</a></li><li><a href="#引用计数法">引用计数法</a></li></ul></li><li><a href="#js-监听对象属性的改变">JS 监听对象属性的改变</a><ul><li><a href="#object-defineproperty">Object.defineProperty</a></li><li><a href="#proxy">Proxy</a></li></ul></li></ul></div><p></p> <h1 id="ecmascript"><a href="#ecmascript" class="header-anchor">#</a> ECMAScript</h1> <p>JavaScript 是<strong>弱类型</strong>语言，解释时动态，通常所说的 JavaScript 是指<code>ECMAScript</code>、<code>DOM【文档对象模型】</code>和<code>BOM【游览器对象模型】</code>。<code>ECMAScript</code>是标准， <code>JavaScript</code>
是实现。</p> <h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <p>数据类型可分为<strong>基本数据类型</strong>和<strong>引用数据类型</strong>。</p> <ol><li>基本数据类型：<code>数字（Number）</code>、<code>字符串（String）</code>、<code>Boolean</code>、<code>undefined</code>、<code>null</code>、<strong>symbol（ES6新增）</strong>、<strong>BigInt（ES2020）</strong>。</li> <li>引用数据类型：<code>Object对象</code>包括【Function、Array】。</li></ol> <h2 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h2> <p><code>undefined</code> 和 <code>is not defined</code> 是两回事，前者已声明未赋值，后者未声明。</p> <p>申明变量有<strong>显式定义（var）</strong> 与 <strong>隐式定义</strong>两种方式。变量申明遵循以下规则：</p> <ol><li>首字母必须是字母（大小写均可）、下划线（_）、或者美元符号（$）。</li> <li>余下可以是下划线，美元符号，任意数字或字母。</li> <li>变量名不能使用<strong>关键字</strong>。</li></ol> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/void" target="_blank" rel="noopener noreferrer">void运算符<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>会对它的操作数表达式进行求值，然后忽略掉求值的结果，直接返回<code>undefined</code>。譬如：<code>&lt;a href=&quot;javascript:void(0)&quot;&gt;Hi&lt;/a&gt;</code></p> <p><code>Object.prototype.valueOf()</code>获取封装对象的值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Object：返回对象本身</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>Date.now()</code> === <code>(new Date()).getTime()</code> === <code>+new Date()</code>都是转换成时间戳。</p> <p><code>throw new Error ('错误信息')</code>抛出异常。一般与错误处理一起使用：<code>try…catch…finally</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
   <span class="token comment">// 可能发生错误的代码</span>
   <span class="token comment">// todo something</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// 只有发生错误时才执行的代码</span>
   <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'错误信息'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
   <span class="token comment">// 无论是否出错，肯定都要执行的代码</span>
   <span class="token comment">// todo other things</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>HTML元素id也会为自身创建全局变量</p> <p>清内存，赋值为null。游览器的垃圾回收机制使用了引用计数法（<strong>引用下标计数法，为0则标识不使用。</strong>）</p> <p>【语句（声明语句）、表达式（赋值表达式）、表达式语句】一个表达式会产生一个值,它可以放在任何需要一个值的地方，如语句则是由分号分隔的句子或命令。如果在表达式后面加上一个“；”分隔符，这就被称为“表达式语句”。
它表明“只有表达式，而没有其他语法元素的语句”。</p> <p>原生函数【内建函数】：String、Number、Boolean、Array、Object、Function、RegExp、Date、Error、Symbol</p> <p>forEach</p> <ul><li><strong>forEach中return有效果吗？</strong>：</li></ul> <p>forEach中return<strong>无效果</strong></p> <ul><li><strong>如何中断forEach循环？</strong></li></ul> <ol><li>使用try catch中断，抛出异常</li> <li>官方推荐：使用every和some替代forEach.<code>every</code>在碰到<code>return false</code>的时候，中止循环。<code>some</code>在碰到<code>return true</code>的时候，中止循环</li></ol> <p>运算符优先级 <code>&amp;&amp;</code> &gt; <code>||</code> &gt; <code>(? : 【右关联】)</code> <code>=【右关联】</code> &gt;  <code>,</code></p> <p>JSON.stringify()</p> <ul><li>JSON.parse(JSON.stringify(Obejct))的注意点：无法处理<code>NaN</code>、<code>RegExp</code>、<code>Error</code>、<code>undefined</code>，<code>function</code>，<code>symbol</code>。</li> <li>该方法可以接受第二个参数JSON.stringify(value[, replacer [, space]])</li></ul> <p>变量、（变量声明、变量赋值）=&gt; 变量的初始化、变量提升</p> <p>类，类的继承，super</p> <p>继承</p> <p>红黑树算法，二叉树算法</p> <p>函数声明 、函数表达式（声明提升）</p> <p>高阶函数、纯函数、函数柯里化</p> <p>面向对象编程、面向函数编程</p> <p>set</p> <p>修饰器 - 编译时执行的函数</p> <p>AMD/CMD、commonjs</p> <p>匿名函数</p> <p>JavaScript 中的迭代器（iterators）和迭代（iterables）是什么？ 你知道什么是内置迭代器吗？</p> <h2 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h2> <p>类型转换分为<strong>隐式类型转换</strong>【隐式换算】和 <strong>显示类型转换</strong>。</p> <p><code>parseInt</code> 会将十六进制转换成十进制，<code>parseFloat</code> 会直接截取。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'0xA'</span><span class="token punctuation">)</span>     <span class="token comment">// 10</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">'0xA'</span><span class="token punctuation">)</span>   <span class="token comment">// 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="什么情况下-a-1-a-2-a-3-返回-true？"><a href="#什么情况下-a-1-a-2-a-3-返回-true？" class="header-anchor">#</a> 什么情况下 <code>a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3</code> 返回 <code>true</code>？</h3> <p>隐式强制类型转换(<code>valueOf()</code>，<code>toString()</code>)</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    i<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token function-variable function">toString</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token punctuation">.</span>i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>
    i<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token function-variable function">valueOf</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> b<span class="token punctuation">.</span>i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>显式强制类转换：假值 - <code>undefined</code>， <code>null</code>， <code>false</code>， <code>+0</code>， <code>-0</code>， <code>NaN</code>， <code>''</code>， <code>Number(...)</code>。</p> <p><code>+</code>一元运算符能将字符串快速转换为数字，并且将日期转换为时间戳。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'Hello World'</span>  <span class="token comment">// Hello World</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token operator">+</span><span class="token string">'Hello World'</span> <span class="token comment">// NaN </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>+、~~【转为数字0和1】、!!【转为boolean】的妙用、||、&amp;&amp;的使用简写、==和===的区别</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// []转换成&quot;&quot;，+{}转换成[object Object]</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">===</span> <span class="token string">'[object Object]'</span>

<span class="token comment">// {}转换成块级作用域，+[]转换成0</span>
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token operator">+</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">0</span>

<span class="token comment">// +[]转换成0,和!在一起又转换成true,再取反</span>
<span class="token operator">!</span><span class="token operator">+</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="数据类型检测"><a href="#数据类型检测" class="header-anchor">#</a> 数据类型检测</h2> <h3 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h3> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">typeof</span> <span class="token number">5</span>            <span class="token comment">// number</span>
<span class="token keyword">typeof</span> <span class="token string">'5'</span>          <span class="token comment">// string</span>
<span class="token keyword">typeof</span> <span class="token keyword">undefined</span>    <span class="token comment">// undefined</span>
<span class="token keyword">typeof</span> <span class="token boolean">false</span>        <span class="token comment">// boolean</span>
<span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// symbol</span>
<span class="token keyword">typeof</span> <span class="token keyword">null</span>         <span class="token comment">// object</span>
<span class="token keyword">typeof</span> <span class="token number">NaN</span>          <span class="token comment">// number</span>

<span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>          <span class="token comment">// object</span>
<span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>           <span class="token comment">// object</span>
<span class="token keyword">typeof</span> console<span class="token punctuation">.</span>log  <span class="token comment">// function</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>判断null：<code>(!null &amp;&amp; typeof null === 'object')</code></p> <p>判断数组：</p> <ul><li>Array.isArray()</li> <li>[] instanceof Array</li> <li>Object.prototype.toString.call([]) === '[object Array]'</li> <li>Object.prototype.toString.call({}) === '[object Object]'</li> <li>[].constructor === Array</li></ul> <div class="custom-block warning"><p class="custom-block-title">注意 typeof()是判断基本类型的。对于引用类型，除function，都返回object【null返回object】。</p></div> <h3 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> instanceof</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
p1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span>    <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h2> <h3 id="字符串处理方法"><a href="#字符串处理方法" class="header-anchor">#</a> 字符串处理方法</h3> <table><thead><tr><th>处理方法</th> <th>说明</th></tr></thead> <tbody><tr><td>charAt()</td> <td>获取特定索引处字符</td></tr> <tr><td>toUpperCase() / toLowerCase()</td> <td>大小写</td></tr> <tr><td>indexOf() / lastIndexOf()</td> <td>返回特定字符串第一次或者最后一次出现的位置</td></tr> <tr><td>substring() / slice()</td> <td>截取字符串（slice支持形参为负数）</td></tr> <tr><td>contact()</td> <td>字符串拼接</td></tr> <tr><td>replace()</td> <td>字符串替换</td></tr> <tr><td>split()</td> <td>字符串分割</td></tr> <tr><td>match() / search()</td> <td>正则表达式搜索字符串，match返回字符串，search返回下标</td></tr></tbody></table> <h2 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token regex">/pattern/</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex">/pattern/</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'pattern'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><table><thead><tr><th>处理方法</th> <th>说明</th></tr></thead> <tbody><tr><td>exec(str)</td> <td>检索指定的值，返回找到的值</td></tr> <tr><td>test(str)</td> <td>检索指定的值是否满足指定的条件，返回true或者false</td></tr></tbody></table> <table><thead><tr><th>通配符</th> <th>说明</th></tr></thead> <tbody><tr><td>.</td> <td>可以匹配任意字符</td></tr> <tr><td>\d</td> <td>匹配0-9的所有数字</td></tr> <tr><td>\D</td> <td>匹配非数字</td></tr> <tr><td>\s</td> <td>匹配所有空白字符串，包括空格、制表符、换行符、回车符</td></tr> <tr><td>\S</td> <td>匹配所有非空白字符串</td></tr> <tr><td>\w</td> <td>匹配所有的单词字符，包括0-9数字、26个英文字母和下划线</td></tr> <tr><td>\w</td> <td>匹配所有非单词字符</td></tr> <tr><td>\b</td> <td>匹配单词边界 - 【单词边界：开头还是结尾】</td></tr> <tr><td>\B</td> <td>匹配非单词边界</td></tr> <tr><td><code>[abc]</code></td> <td>查找方括号之间的任意字符</td></tr> <tr><td><code>[^abc]</code></td> <td>查找任何不在方括号之间的字符</td></tr> <tr><td><code>[0-9]</code></td> <td>查找任何从0-9的数字</td></tr> <tr><td><code>[a-z]</code></td> <td>查找任何从a-z的字符</td></tr> <tr><td><code>[A-Z]</code></td> <td>查找任何从A-Z的字符</td></tr> <tr><td><code>[A-z]</code></td> <td>查找任何从A-z的字符</td></tr> <tr><td><code>(green|blue|red)</code></td> <td>查找任何从指定的字符</td></tr></tbody></table> <table><thead><tr><th>量词</th> <th>说明</th></tr></thead> <tbody><tr><td>n+</td> <td>匹配任意包含至少一个 n</td></tr> <tr><td>n*</td> <td>匹配任意包含0个或者多个 n</td></tr> <tr><td>n?</td> <td>匹配任意包含0个或者一个 n</td></tr> <tr><td>n{X}</td> <td>匹配包含 X个 n 的序列</td></tr> <tr><td>n{X,Y}</td> <td>匹配包含 X个 或 Y个 n 的序列</td></tr> <tr><td>n{X,}</td> <td>匹配包含至少 X个 n 的序列</td></tr> <tr><td>n$</td> <td>匹配任意结尾为 n的字符</td></tr> <tr><td>^n</td> <td>匹配任意开头为 n的字符</td></tr></tbody></table> <table><thead><tr><th>修饰符</th> <th>说明</th></tr></thead> <tbody><tr><td>i</td> <td>执行对大小写不敏感的匹配</td></tr> <tr><td>g</td> <td>执行全部匹配（查找所有匹配，不仅仅是找到一个后停止）</td></tr> <tr><td>m</td> <td>执行多行匹配</td></tr></tbody></table> <h2 id="bind、call-和-apply-区别"><a href="#bind、call-和-apply-区别" class="header-anchor">#</a> bind、call 和 apply 区别</h2> <p>三者都是用来改变this指向的。</p> <p><code>bind</code>是返回一个<strong>新的可执行的函数</strong>，第一个参数是要指向的对象，第二个参数是<strong>绑定时候参数的顺序以及新可执行函数的参数作为原函数的参数来调用原函数</strong>。</p> <p><code>call</code>和<code>apply</code>都是执行函数，第一个参数是要指向的对象，第二参数不同，call需要把参数<strong>按顺序依次传递</strong>，apply则是把参数<strong>放在数组里</strong>。</p> <p>如果 call和apply的第一个参数是null或者undefined，那么this的指向就是全局变量，在游览器里面就是windows。</p> <h2 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h2> <div class="custom-block tip"><p><a href="https://zhuanlan.zhihu.com/p/22486908" target="_blank" rel="noopener noreferrer">「每日一题」JS 中的闭包是什么？- 知乎<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <p><strong>可以访问其他函数内变量的函数</strong>，叫做闭包。或者说在一个函数内部可访问该函数内部局部变量的函数，作用就是让函数外部可以访问函数内部局部变量。</p> <p>特点：</p> <ol><li>函数嵌套函数。</li> <li>函数内部可以引用外部的参数和变量。</li> <li>参数和变量不会被垃圾回收机制回收。</li></ol> <p>闭包可以用来保存一个需要持久保存的变量，可以模拟命名空间。</p> <p>优点：</p> <ol><li>变量长期驻扎在内存中；</li> <li>避免全局变量的污染；</li> <li>私有成员的存在；</li></ol> <p><strong>闭包在IE会造成内存泄露</strong>（IE BUG）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ex <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token operator">++</span>
        <span class="token keyword">return</span> ex
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> bar
<span class="token punctuation">}</span>

<span class="token keyword">var</span> func <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="闭包产生的本质"><a href="#闭包产生的本质" class="header-anchor">#</a> 闭包产生的本质</h3> <p>当前环境中存在指向父级作用域的引用</p> <div class="custom-block warning"><p class="custom-block-title">注意 IIFE是闭包吗？ 严格来讲IIFE并不算闭包，因为函数并没用在本身的词法作用域以外执行。</p></div> <h2 id="settimeout-倒计时为什么会出现误差？"><a href="#settimeout-倒计时为什么会出现误差？" class="header-anchor">#</a> setTimeout 倒计时为什么会出现误差？</h2> <p>setTimeout() 只是将事件插入了“任务队列”，必须等当前代码（执行栈）执行完，主线程才会去执行它指定的回调函数。</p> <p>要是当前代码消耗时间很长，也有可能要等很久，所以并没办法保证回调函数一定会在 setTimeout() 指定的时间执行。所以， setTimeout() 的第二个参数表示的是最少时间，并非是确切时间。</p> <p>HTML5标准规定了 setTimeout() 的第二个参数的最小值不得小于4毫秒，如果低于这个值，则默认是4毫秒。</p> <p>在此之前。老版本的浏览器都将最短时间设为10毫秒。<strong>另外，对于那些DOM的变动（尤其是涉及页面重新渲染的部分），通常是间隔16毫秒执行。这时使用 requestAnimationFrame() 的效果要好于 setTimeout();</strong></p> <h2 id="断点续传"><a href="#断点续传" class="header-anchor">#</a> 断点续传</h2> <p>HTTP1.1协议（RFC2616）中定义了断点续传相关的HTTP头<code>Range</code>和<code>Content-Range</code>字段，一个最简单的断点续传实现大概如下：</p> <ol><li>客户端下载一个1024K的文件，已经下载了其中512K</li> <li>网络中断，客户端请求续传，因此需要在HTTP头中申明本次需要续传的片段：Range:bytes=512000-这个头通知服务端从文件的512K位置开始传输文件</li> <li>服务端收到断点续传请求，从文件的512K位置开始传输，并且在HTTP头中增加：Content-Range:bytes 512000-/1024000</li></ol> <h2 id="es6"><a href="#es6" class="header-anchor">#</a> ES6</h2> <p><code>let</code>、<code>const</code></p> <p>箭头函数 <code>() =&gt; {}</code></p> <p><code>class</code>、<code>class &lt;name&gt; extend &lt;parent&gt;</code></p> <p>yield</p> <ol start="5"><li>对象初始化</li> <li>简写方法名 const object = {functionName () {}}</li> <li>装饰器写法（修饰器decorator =&gt; ES6）（@connet）</li> <li>赋值解构</li> <li>rest</li> <li>import、export</li></ol> <h3 id="object"><a href="#object" class="header-anchor">#</a> Object</h3> <ol><li>Object.keys(obj)</li> <li>Object.create()</li> <li>Object.assign()</li> <li>Object.defineProperty(obj, key, props)</li></ol> <h3 id="number"><a href="#number" class="header-anchor">#</a> Number</h3> <ol><li>Number.prototype.toPrecision()</li> <li>数字的安全范围：Number.MAX_SAFE_INTEGER、Number.MIN_SAFE_INTEGER</li> <li>Number.isInteger()</li> <li>window.isNaN()和Number.isNaN() 在不是数字类型下返回的结果不同：isNaN(‘A') // true，Number.isNaN(‘A’) // false</li></ol> <h3 id="string"><a href="#string" class="header-anchor">#</a> String</h3> <ol><li>String.prototype.indexOf()</li> <li>String.prototype.charAt()</li> <li>String.prototype.substr()、String.prototype.substring()、String.prototype.slice()</li> <li>String.prototype.toUpperCase()、String.prototype.toLowerCase()</li> <li>String.prototype.trim()</li></ol> <h2 id="dom"><a href="#dom" class="header-anchor">#</a> DOM</h2> <h3 id="dom-2"><a href="#dom-2" class="header-anchor">#</a> DOM</h3> <ol><li>nodeType(1,2,3)</li> <li>nodeName</li> <li>nodeValue</li> <li>firstChild</li> <li>attributes =&gt; removeAttribute &amp; addAttribute</li> <li>createDocumentFragment</li> <li>appendChild</li></ol> <h3 id="todo"><a href="#todo" class="header-anchor">#</a> TODO</h3> <ul><li>函数</li> <li>变量提升</li> <li>回收机制</li></ul> <h2 id="常见的设计模式有哪些？"><a href="#常见的设计模式有哪些？" class="header-anchor">#</a> 常见的设计模式有哪些？</h2> <ol><li>js工厂模式</li> <li>js构造函数模式</li> <li>js原型模式</li> <li>构造函数+原型的js混合模式</li> <li>构造函数+原型的动态原型模式</li> <li>观察者模式</li> <li>发布订阅模式</li></ol> <h2 id="javascript模块化"><a href="#javascript模块化" class="header-anchor">#</a> JavaScript模块化</h2> <p>CommonJS、AMD、CMD、UMD</p> <h3 id="commonjs"><a href="#commonjs" class="header-anchor">#</a> CommonJS</h3> <p>主要实现者：Nodejs。CommonJS模块的加载不适合网络加载，依赖的模块未加载会出现错误。</p> <p>方法：exports、require</p> <p>导出模块</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>exports<span class="token punctuation">.</span>blog <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">say</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'hello'</span> <span class="token operator">+</span> name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>加载模块</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> blog <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./blog'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>blog<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="amd"><a href="#amd" class="header-anchor">#</a> AMD</h3> <p>AMD接口定义：define(id?,dependencies?,factory)，依赖<strong>RequireJS</strong>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义 base.js</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">say</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 调用 app.js</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'base'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">base</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="cmd"><a href="#cmd" class="header-anchor">#</a> CMD</h3> <p>AMD的优化版，AMD是依赖前置，提前加载依赖，CMD是依赖后置，使用时才加载，依赖<strong>SeaJS</strong>。当然现在 <code>RequireJS</code> 已经提供了延迟加载的功能。</p> <h3 id="umd"><a href="#umd" class="header-anchor">#</a> UMD</h3> <p>CommonJS侧重服务器，AMD侧重游览器，两者的模块不能共享。</p> <p>UMD的思想很简单：判断是AMD则使用AMD方式，判断是CommonJS则使用CommonJS方式，都不是则将模块公开给全局（window或global）。</p> <h3 id="es6模块化"><a href="#es6模块化" class="header-anchor">#</a> ES6模块化</h3> <h2 id="面向对象"><a href="#面向对象" class="header-anchor">#</a> 面向对象</h2> <p>面向对象是一种思想，是基于面向过程而言的，就是说面向对象是将功能等通过对象来实现，将功能封装进对象之中，让对象去实现具体的细节；</p> <p>这种思想是将数据作为第一位，这是对数据一种优化，操作起来更加的方便，简化了过程。 JS 本身是没有 class 类型的，但是每个函数都有一个 prototype 属性， prototype
指向一个对象，当函数作为构造函数时，prototype 就起到 类似于 class 的作用</p> <p>面向对象有三个特点：</p> <ol><li>封装（隐藏对象的属性和实现细节，对外提供公共访问方式）</li> <li>继承（提高代码复用性，继承是多态的前提）</li> <li>多态（是父类或接口定义的引用变量可以指向子类或具体实现类的实例对象）</li></ol> <h2 id="js-中的垃圾回收机制"><a href="#js-中的垃圾回收机制" class="header-anchor">#</a> JS 中的垃圾回收机制</h2> <p>必要性：由于字符串、对象和数组没有固定大小，所有当他们的大小已知时，才能对他们进行动态的存储分配。 JavaScript 程序每次创建字符串、 数组或对象时，解释器都必须分配内存来存储那个实体。
只要像这样动态地分配了内存，最终都要释放这些内存以便他们能够被再用。 否则， JavaScript 的解释器将会消耗完系统中所有可用的内存，造成系统崩溃。</p> <p>垃圾回收的方法：标记清除、计数引用。</p> <h3 id="标记清除法"><a href="#标记清除法" class="header-anchor">#</a> 标记清除法</h3> <p>这是最常见的垃圾回收方式，当变量<strong>进入环境</strong>时，就标记这个变量为”进入环境“， 从逻辑上讲，永远不能释放进入环境的变量所占的内存，永远不能释放进入环境变量所占用的内存， 只要执行流程进入相应的环境，就可能用到他们。</p> <p>当离开环境时，就标记为<strong>离开环境</strong>。 垃圾回收器在运行的时候会给存储在内存中的变量都加上标记（所有都加）， 然后去掉环境变量中的变量，以及被环境变量中的变量所引用的变量（条件性去除标记），删除所有被标记的变量，
删除的变量无法在环境变量中被访问所以会被删除 。</p> <p>最后垃圾回收器，完成了内存的清除工作，并回收他们所占用的内存。</p> <h3 id="引用计数法"><a href="#引用计数法" class="header-anchor">#</a> 引用计数法</h3> <p>引用计数法的意思就是每个值引用的次数， 当声明了一个变量，并用一个引用类型的值赋值给该变量，则这个值的引用次数为 1；</p> <p>相反的，如果包含了对这个值引用的变量又取得了另外一个值，则原先的引用值引用次数就减 1， 当这个值的引用次数为 0 的时候，说明没有办法再访问这个值了，因此就把所占的内存给回收进来，这样垃圾收集器再次运行的时候，就会释放引用次数为 0
的这些值。</p> <p><strong>用引用计数法会存在内存泄露</strong></p> <h2 id="js-监听对象属性的改变"><a href="#js-监听对象属性的改变" class="header-anchor">#</a> JS 监听对象属性的改变</h2> <h3 id="object-defineproperty"><a href="#object-defineproperty" class="header-anchor">#</a> Object.defineProperty</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">set</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>缺点：如果 id 不在 user 对象中，则不能监听 id 的变化</p> <h3 id="proxy"><a href="#proxy" class="header-anchor">#</a> Proxy</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">set</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这样即使有属性在 user 中不存在，通过 user.id 来定义也同样可以这样 监听这个属性的变化哦。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">10/20/2021, 2:55:36 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/ability-to-improve/Test/" class="prev">
          面试
        </a></span> <span class="next"><a href="/ability-to-improve/javascript/Event.html">
          事件流
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ability-to-improve/assets/js/app.77b3c05a.js" defer></script><script src="/ability-to-improve/assets/js/3.0e2e58c8.js" defer></script><script src="/ability-to-improve/assets/js/2.86c3e483.js" defer></script><script src="/ability-to-improve/assets/js/33.00413215.js" defer></script>
  </body>
</html>
