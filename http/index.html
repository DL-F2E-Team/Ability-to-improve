<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BOM | F2E</title>
    <meta name="description" content="Not just playing around">
    
    
    <link rel="preload" href="/ability-to-improve/assets/css/0.styles.65162749.css" as="style"><link rel="preload" href="/ability-to-improve/assets/js/app.0113e568.js" as="script"><link rel="preload" href="/ability-to-improve/assets/js/3.89789aeb.js" as="script"><link rel="preload" href="/ability-to-improve/assets/js/2.796c295c.js" as="script"><link rel="preload" href="/ability-to-improve/assets/js/15.4ead2b45.js" as="script"><link rel="prefetch" href="/ability-to-improve/assets/js/10.98af8f38.js"><link rel="prefetch" href="/ability-to-improve/assets/js/11.44d65fa9.js"><link rel="prefetch" href="/ability-to-improve/assets/js/12.77cf3763.js"><link rel="prefetch" href="/ability-to-improve/assets/js/13.0e5ae6fa.js"><link rel="prefetch" href="/ability-to-improve/assets/js/14.1f0595bf.js"><link rel="prefetch" href="/ability-to-improve/assets/js/16.937c9bef.js"><link rel="prefetch" href="/ability-to-improve/assets/js/17.344c4d92.js"><link rel="prefetch" href="/ability-to-improve/assets/js/18.73226fa9.js"><link rel="prefetch" href="/ability-to-improve/assets/js/19.da25a48f.js"><link rel="prefetch" href="/ability-to-improve/assets/js/20.08993320.js"><link rel="prefetch" href="/ability-to-improve/assets/js/21.c0e6f39d.js"><link rel="prefetch" href="/ability-to-improve/assets/js/22.92f8a29e.js"><link rel="prefetch" href="/ability-to-improve/assets/js/23.20b64a78.js"><link rel="prefetch" href="/ability-to-improve/assets/js/24.4ec4e5e8.js"><link rel="prefetch" href="/ability-to-improve/assets/js/25.d241cec8.js"><link rel="prefetch" href="/ability-to-improve/assets/js/26.00cc19ce.js"><link rel="prefetch" href="/ability-to-improve/assets/js/27.fe9a134a.js"><link rel="prefetch" href="/ability-to-improve/assets/js/28.24b7bec7.js"><link rel="prefetch" href="/ability-to-improve/assets/js/29.8a6bdfcf.js"><link rel="prefetch" href="/ability-to-improve/assets/js/30.284738c5.js"><link rel="prefetch" href="/ability-to-improve/assets/js/31.237ca94c.js"><link rel="prefetch" href="/ability-to-improve/assets/js/32.b833cfe7.js"><link rel="prefetch" href="/ability-to-improve/assets/js/33.eee86ad4.js"><link rel="prefetch" href="/ability-to-improve/assets/js/34.fec53b40.js"><link rel="prefetch" href="/ability-to-improve/assets/js/35.c4e0ff9f.js"><link rel="prefetch" href="/ability-to-improve/assets/js/36.66c5d407.js"><link rel="prefetch" href="/ability-to-improve/assets/js/4.7ad6d401.js"><link rel="prefetch" href="/ability-to-improve/assets/js/5.c142f3f7.js"><link rel="prefetch" href="/ability-to-improve/assets/js/6.cf1d2cd0.js"><link rel="prefetch" href="/ability-to-improve/assets/js/7.3851d697.js"><link rel="prefetch" href="/ability-to-improve/assets/js/8.f74bffa9.js"><link rel="prefetch" href="/ability-to-improve/assets/js/9.7bcf504e.js">
    <link rel="stylesheet" href="/ability-to-improve/assets/css/0.styles.65162749.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ability-to-improve/" class="home-link router-link-active"><!----> <span class="site-name">F2E</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://lijiahao8898.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lijiahao8898" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lijiahao8898
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://lijiahao8898.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lijiahao8898" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lijiahao8898
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>目录</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/ability-to-improve/html/" class="sidebar-link">HTML</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>BOM</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ability-to-improve/http/" class="active sidebar-link">BOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#跨域" class="sidebar-link">跨域</a></li><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#web-storage、cookie、session的区别" class="sidebar-link">web storage、cookie、session的区别</a></li><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#游览器特性" class="sidebar-link">游览器特性</a></li><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#http1-0、1-1、2-0、https" class="sidebar-link">HTTP1.0、1.1、2.0、HTTPS</a></li><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#游览器缓存机制" class="sidebar-link">游览器缓存机制</a></li><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#tcp三次握手和四次挥手" class="sidebar-link">TCP三次握手和四次挥手</a></li><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#何为dns-prefetch优化？" class="sidebar-link">何为dns-prefetch优化？</a></li><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#五层因特网协议栈" class="sidebar-link">五层因特网协议栈</a></li><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#cdn的好处" class="sidebar-link">CDN的好处</a></li><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#xss跨站脚本攻击" class="sidebar-link">XSS跨站脚本攻击</a></li><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#csrf跨站请求伪造" class="sidebar-link">CSRF跨站请求伪造</a></li><li class="sidebar-sub-header"><a href="/ability-to-improve/http/#todo-lists" class="sidebar-link">TODO LISTS</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/ability-to-improve/blog/" class="sidebar-link">资料</a></li><li><a href="/ability-to-improve/tool/" class="sidebar-link">工具与方法</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bom"><a href="#bom" class="header-anchor">#</a> BOM</h1> <h2 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h2> <p>狭义的跨域指游览器同源策略限制，通常我们所说的便是狭义跨域。</p> <h3 id="什么是同源策略？"><a href="#什么是同源策略？" class="header-anchor">#</a> 什么是同源策略？</h3> <p>同源策略是指<strong>域名相同</strong>、<strong>端口号相同</strong>、<strong>协议相同</strong>。</p> <p>同源策略限制以下几种行为</p> <ol><li>Cookie、LocalStorage、和IndexDB无法读取。</li> <li>DOM和JS对象无法获得。</li> <li>AJAX请求不能发送。</li></ol> <h3 id="跨域解决方案"><a href="#跨域解决方案" class="header-anchor">#</a> 跨域解决方案</h3> <ul><li>jsonp - get请求</li> <li>cors - 跨域资源共享</li> <li>nginx代理</li> <li>node中间件</li> <li>postmessage</li> <li>document.domain + iframe</li> <li>window.name + iframe</li> <li>websocket</li></ul> <h4 id="_1-jsonp-get请求"><a href="#_1-jsonp-get请求" class="header-anchor">#</a> 1. jsonp - get请求</h4> <p>动态创建<code>&lt;script&gt;</code>标签，然后利用了<code>&lt;script&gt;</code>标签没有跨域限制这一“漏洞”来达到与第三方通讯的目的，用户传递一个callback参数给服务端，然后服务端返回数据时会将这个callback参数作为函数名包裹json
数据，这样客户端就可以随意定制自己的函数自动处理返回的数据了。缺点：域不安全，判断jsonp请求是否失败并不容易，只限于get请求（本质上script加载资源就是get）。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text/javascript'</span><span class="token punctuation">;</span>
<span class="token comment">// 传参并指定回调执行函数为onBack</span>
script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'http://www.domain2.com:8080/login?user=admin&amp;callback=onBack'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 回调执行函数</span>
<span class="token keyword">function</span> <span class="token function">onBack</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 服务端返回</span>
<span class="token function">onBack</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;status&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="cors"><a href="#cors" class="header-anchor">#</a> CORS</h4> <p>CORS需要浏览器和后端同时支持。浏览器会自动进行 CORS 通信，服务端设置<code>Access-Control-Allow-Origin</code>就可以开启CORS。</p> <div class="custom-block warning"><p class="custom-block-title">提示</p> <p>跨域还会产生<strong>简单请求</strong>和<strong>复杂请求（预请求）</strong>。
跨域默认不会发送<strong>cookie</strong>，设置<code>withCredentials = true</code>。</p></div> <h4 id="nginx代理"><a href="#nginx代理" class="header-anchor">#</a> nginx代理</h4> <div class="language- line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-text"><code>server{
    # 监听9099端口
    listen 9099;
    # 域名是localhost
    server_name localhost;
    #凡是localhost:9099/api这个样子的，都转发到真正的服务端地址http://localhost:9871 
    location ^~ /api {
        proxy_pass http://localhost:9871;
    }    
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="custom-block tip"><p><a href="https://segmentfault.com/a/1190000011145364?utm_source=tag-newest" target="_blank" rel="noopener noreferrer">前端常见跨域解决方案（全）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <h2 id="web-storage、cookie、session的区别"><a href="#web-storage、cookie、session的区别" class="header-anchor">#</a> web storage、cookie、session的区别</h2> <h3 id="cookie、session区别"><a href="#cookie、session区别" class="header-anchor">#</a> cookie、session区别</h3> <ol><li>保持状态：</li></ol> <ul><li><code>cookie</code> 保存在浏览器端，</li> <li><code>session</code> 保存在服务器端。</li></ul> <ol start="2"><li>使用方式：</li></ol> <ul><li><strong>cookie机制</strong>：如果不在浏览器中设置过期时间，cookie被保存在内存中，生命周期随浏览器的关闭而结束，
这种cookie简称<strong>会话cookie</strong>。如果在浏览器中设置了cookie的过期时间，cookie被保存在硬盘中，关闭浏览器后，
cookie数据仍然存在，直到过期时间结束才消失。cookie是服务器发给客户端的特殊信息，cookie是以文本的方式保存在客户端，每次请求时都带上它</li> <li><strong>session机制</strong>：当服务器收到请求需要创建session对象时，首先会检查客户端请求中是否包含sessionid。如果
有sessionid，服务器将根据该id返回对应session对象。如果客户端请求中没有sessionid，服务器会创建新的
session对象，并把sessionid在本次响应中返回给客户端。通常使用cookie方式存储sessionid到客户端，在交互
中浏览器按照规则将sessionid发送给服务器。如果用户禁用cookie，则要使用URL重写，可以通过
response.encodeURL(url) 进行实现；API对encodeURL的结束为，当浏览器支持Cookie时，url不做任何处理；当
浏览器不支持Cookie的时候，将会重写URL将SessionID拼接到访问地址后。</li></ul> <p>3、存储内容：</p> <ul><li><code>cookie</code> 只能保存字符串类型，以文本的方式；</li> <li><code>session</code> 通过类似与Hashtable的数据结构来保存，能支持任何类型的对象(session中可含有多个对象)</li></ul> <p>4、存储的大小：</p> <ul><li><code>cookie</code> 单个保存的数据不能超过4kb；</li> <li><code>session</code> 大小没有限制。</li></ul> <p>5、安全性：cookie：针对cookie所存在的攻击：Cookie欺骗，Cookie截获；session的安全性大于cookie。</p> <p>原因如下：</p> <ul><li>sessionID存储在cookie中，若要攻破session首先要攻破cookie；</li> <li>sessionID是要有人登录，或者启动session_start才会有，所以攻破cookie也不一定能得到sessionID；</li> <li>第二次启动session_start后，前一次的sessionID就是失效了，session过期后，sessionID也随之失效。</li> <li>sessionID是加密的</li> <li>综上所述，攻击者必须在短时间内攻破加密的sessionID，这很难。</li></ul> <h3 id="web-storage"><a href="#web-storage" class="header-anchor">#</a> web storage</h3> <ul><li><code>sessionStorage</code>：将数据保存在session对象中。所谓session，是指用户在浏览某个网站时，从进入网站到
浏览器关闭所经过的这段时间，也就是用户浏览这个网站所花费的时间。session对象可以用来保存在这段时间内所要求保存的任何数据。</li> <li><code>localStorage</code>：将数据保存在客户端本地的硬件设备(通常指硬盘，也可以是其他硬件设备)中，即使浏览器被关闭了，该数据仍然存在，下次打开浏览器访问网站时仍然可以继续使用。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>setItem (key, value) ——  保存数据，以键值对的方式储存信息
getItem (key) ——  获取数据，将键值传入，即可获取到对应的value值
removeItem (key) ——  删除单个数据，根据键值移除对应的信息
clear () ——  删除所有的数据
key (index) —— 获取某个索引的key
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="区别"><a href="#区别" class="header-anchor">#</a> 区别</h3> <ul><li>生命周期：<code>sessionStorage</code> 临时保存（同源的窗口中始终存在的数据），<code>localStorage</code> 永久保存</li> <li>存储大小：一般都是<strong>5MB</strong>, <code>cookie</code> 是 <strong>4KB</strong></li> <li>存储位置：都在客户端</li> <li>存储类型：字符串类型（JSON.stringify）</li></ul> <p><a href="https://www.cnblogs.com/pengc/p/8714475.html" target="_blank" rel="noopener noreferrer">cookies、sessionStorage和localStorage解释及区别<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="游览器特性"><a href="#游览器特性" class="header-anchor">#</a> 游览器特性</h2> <ul><li><strong>游览器</strong>是<strong>多进程</strong>的，游览器<strong>内核</strong>是<strong>多线程</strong>的</li> <li>每次打开一个页签输入 <code>URL</code> 就相当于打开了一个线程</li> <li>游览器会自动的将多个空白页面放入一个线程中，以便提升性能。</li></ul> <p><a href="https://segmentfault.com/a/1190000012925872" target="_blank" rel="noopener noreferrer">从浏览器多进程到JS单线程，JS运行机制最全面的一次梳理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="http1-0、1-1、2-0、https"><a href="#http1-0、1-1、2-0、https" class="header-anchor">#</a> HTTP1.0、1.1、2.0、HTTPS</h2> <h3 id="_1-0"><a href="#_1-0" class="header-anchor">#</a> 1.0</h3> <ul><li>默认使用<strong>短链接</strong></li> <li>定义了<strong>三种</strong>请求方法： <code>GET</code>, <code>POST</code> 和 <code>HEAD</code> 方法。以及几种Additional Request Methods：<code>PUT</code>、<code>DELETE</code>、<code>LINK</code>、<code>UNLINK</code></li></ul> <h3 id="_1-1"><a href="#_1-1" class="header-anchor">#</a> 1.1</h3> <ul><li>默认使用<strong>长连接</strong></li> <li>定义了<strong>八种</strong>请求方法：<code>GET</code>、<code>POST</code>、<code>HEAD</code>、<code>OPTIONS</code>, <code>PUT</code>, <code>DELETE</code>, <code>TRACE</code> 和 <code>CONNECT</code> 方法。</li> <li>每请求一个资源，都是需要开启一个 <a href="/ability-to-improve/http/#tcp三次握手和四次挥手">tcp/ip</a> 连接的，所以对应的结果是，每一个资源对应一个 <a href="/ability-to-improve/http/#tcp三次握手和四次挥手">tcp/ip</a> 请求，由于 <a href="/ability-to-improve/http/#tcp三次握手和四次挥手">tcp/ip</a> 本身有并发数限制，所以当资源一多，速度就显著慢下来</li></ul> <h3 id="_2-0"><a href="#_2-0" class="header-anchor">#</a> 2.0</h3> <p><code>HTTP2.0</code> 中，一个 <a href="/ability-to-improve/http/#tcp三次握手和四次挥手">tcp/ip</a> 请求可以请求多个资源，也就是说，只要一次 <a href="/ability-to-improve/http/#tcp三次握手和四次挥手">tcp/ip</a> 请求，就可以请求若干个资源，分割成更小的帧请求，速度明显提升。</p> <div class="custom-block tip"><p class="custom-block-title">知识库</p> <p><a href="https://zhuanlan.zhihu.com/p/60450391" target="_blank" rel="noopener noreferrer">一个HTTP打趴80%面试者<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <h3 id="http报文结构"><a href="#http报文结构" class="header-anchor">#</a> HTTP报文结构</h3> <h4 id="常见的请求头"><a href="#常见的请求头" class="header-anchor">#</a> 常见的请求头</h4> <ul><li><code>Accept</code>: 接收类型，表示浏览器支持的MIME类型（对标服务端返回的Content-Type）</li> <li><code>Accept-Encoding</code>：浏览器支持的压缩类型,如gzip等,超出类型不能接收</li> <li><code>Content-Type</code>：客户端发送出去实体内容的类型</li> <li><code>Cache-Control</code>: 指定请求和响应遵循的缓存机制，如no-cache</li> <li><code>If-Modified-Since</code>：对应服务端的Last-Modified，用来匹配看文件是否变动，只能精确到1s之内，http1.0中</li> <li><code>Expires</code>：缓存控制，在这个时间内不会请求，直接使用缓存，http1.0，而且是服务端时间</li> <li><code>Max-age</code>：代表资源在本地缓存多少秒，有效时间内不会请求，而是使用缓存，http1.1中</li> <li><code>If-None-Match</code>：对应服务端的ETag，用来匹配文件内容是否改变（非常精确），http1.1中</li> <li><code>Cookie</code>: 有cookie并且同域访问时会自动带上</li> <li><code>Connection</code>: 当浏览器与服务器通信时对于长连接如何进行处理,如keep-alive</li> <li><code>Host</code>：请求的服务器URL</li> <li><code>Origin</code>：最初的请求是从哪里发起的（只会精确到端口）,Origin比Referer更尊重隐私</li> <li><code>Referer</code>：该页面的来源URL(适用于所有类型的请求，会精确到详细页面地址，csrf拦截常用到这个字段)</li> <li><code>User-Agent</code>：用户客户端的一些必要信息，如UA头部等</li></ul> <h4 id="常见的响应头"><a href="#常见的响应头" class="header-anchor">#</a> 常见的响应头</h4> <ul><li><code>Access-Control-Allow-Headers</code>: 服务器端允许的请求Headers</li> <li><code>Access-Control-Allow-Methods</code>: 服务器端允许的请求方法</li> <li><code>Access-Control-Allow-Origin</code>: 服务器端允许的请求Origin头部（譬如为*）</li> <li><code>Content-Type</code>：服务端返回的实体内容的类型</li> <li><code>Date</code>：数据从服务器发送的时间</li> <li><code>Cache-Control</code>：告诉浏览器或其他客户，什么环境可以安全的缓存文档</li> <li><code>Last-Modified</code>：请求资源的最后修改时间</li> <li><code>Expires</code>：应该在什么时候认为文档已经过期,从而不再缓存它</li> <li><code>Max-age</code>：客户端的本地资源应该缓存多少秒，开启了Cache-Control后有效</li> <li><code>ETag</code>：请求变量的实体标签的当前值</li> <li><code>Set-Cookie</code>：设置和页面关联的cookie，服务器通过这个头部把cookie传给客户端</li> <li><code>Keep-Alive</code>：如果客户端有keep-alive，服务端也会有响应（如timeout=38）</li> <li><code>Server</code>：服务器的一些相关信息</li></ul> <h2 id="游览器缓存机制"><a href="#游览器缓存机制" class="header-anchor">#</a> 游览器缓存机制</h2> <p>强缓存 =&gt; 协商缓存（304） =&gt; 最新资源</p> <ul><li>强缓存
<ul><li>Expires</li> <li>Cache-control</li></ul></li> <li>协商缓存
<ul><li>Last-Modified/If-Modified-Since</li> <li>Etag/If-None-Match</li></ul></li></ul> <h3 id="强缓存-from-cache"><a href="#强缓存-from-cache" class="header-anchor">#</a> 强缓存 - from cache</h3> <div class="language- line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>&gt; General
Request URL:http://yangdongxi.seller.mockuai.com/bossmanager/wap/domain/get.do
Request Method:GET
Status Code:200 OK
Remote Address:115.29.239.224:80
Referrer Policy:no-referrer-when-downgrade

&gt; Response Headers
Accept-Charset:big5, big5-hkscs, euc-jp, euc-kr, gb18030, gb2312, gbk, ibm-thai, ibm00858, ibm01140, ibm01141, ibm01142, 
Access-Control-Allow-Headers:Origin, No-Cache, X-Requested-With, If-Modified-Since, Pragma, Last-Modified, Cache-Control, Expires, Content-Type, X-E4M-With
Access-Control-Allow-Methods:GET, POST, OPTIONS
Access-Control-Allow-Origin:*
Connection:keep-alive
Content-Length:53
Content-Type:application/json;charset=utf-8
Date:Thu, 04 Jan 2018 02:18:10 GMT
Server:Tengine/2.1.2

&gt; Request Headers
Accept:application/json, text/javascript, */*; q=0.01
Accept-Encoding:gzip, deflate
Accept-Language:zh-CN,zh;q=0.9
Cache-Control:no-cache
Connection:keep-alive
Cookie:JSESSIONID
Host:yangdongxi.seller.mockuai.com
Pragma:no-cache
Referer:http://yangdongxi.seller.mockuai.com/bossmanager/html/seller_info/index.html
User-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36
X-Requested-With:XMLHttpRequest
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h4 id="缓存控制头-cache-control"><a href="#缓存控制头-cache-control" class="header-anchor">#</a> 缓存控制头 - Cache-Control</h4> <table><thead><tr><th style="text-align:left;">Cache-directive</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">public</td> <td style="text-align:left;">所有内容都将被缓存</td></tr> <tr><td style="text-align:left;">private</td> <td style="text-align:left;">内容只缓存到私有缓存中</td></tr> <tr><td style="text-align:left;">no-cache</td> <td style="text-align:left;">所有内容都不会被缓存</td></tr> <tr><td style="text-align:left;">no-store</td> <td style="text-align:left;">所有内容都不会被缓存到缓存或 Internet 临时文件中</td></tr> <tr><td style="text-align:left;">must-revalidation/proxy-revalidation</td> <td style="text-align:left;">如果缓存的内容失效，请求必须发送到服务器/代理以进行重新验证</td></tr> <tr><td style="text-align:left;">max-age=xxx (xxx is numeric)</td> <td style="text-align:left;">缓存的内容将在 xxx 秒后失效, 这个选项只在HTTP 1.1可用, 并如果和Last-Modified一起使用时, 优先级较高</td></tr></tbody></table> <p>如果 <code>cache-control</code> 有 <code>max-age/s-maxage</code> 则过期时间等于 <code>date + max-age/s-maxage</code>。如果没有则用 <code>expires</code> 作为过期时间。</p> <h4 id="过期头-expires"><a href="#过期头-expires" class="header-anchor">#</a> 过期头 - Expires</h4> <p>HTTP1.0中的标准，表明过期时间，注意此处的时间都是指的是服务器的时间。</p> <p>譬如：<code>Expires: Thu, 04 Jan 2018 03:15:58 GMT</code>。</p> <p>存在的问题：服务器时间与客户端时间的不一致，就会导致缓存跟期待效果出现偏差。</p> <h3 id="弱缓存（协商缓存）-304"><a href="#弱缓存（协商缓存）-304" class="header-anchor">#</a> 弱缓存（协商缓存）- 304</h3> <div class="language- line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>HTTP/1.1 200 OK
Date: Thu, 04 Jan 2018 03:10:58 GMT
Via: 1.1 varnish
Cache-Control: max-age=300
X-Served-By: cache-hnd18736-HND
X-Cache: HIT
X-Cache-Hits: 1
X-Timer: S1515035459.944267,VS0,VE0
Access-Control-Allow-Origin: *
X-Fastly-Request-ID: b3a6b8622c580ab51e31a6dbf42596ce537eef03
Expires: Thu, 04 Jan 2018 03:15:58 GMT
Source-Age: 1849727
Vary: Authorization,Accept-Encoding
Content-Type: image/jpeg
Content-Security-Policy: default-src 'none'
Etag: &quot;5ffdaa4768eefcca6f0e3d16ce6a06c20c354792&quot;
Last-Modified: Fri, 19 Aug 2016 02:03:35 GMT
Timing-Allow-Origin: https://github.com
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Xss-Protection: 1; mode=block
X-GitHub-Request-Id: B5E0:1A39E:8284BE:8ACF77:5A3161C3
Content-Length: 1195
Accept-Ranges: bytes
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>浏览器会向服务器发送请求，同时如果上一次的缓存中有 <code>Last-modified</code> 和 <code>Etag</code> 字段，
浏览器将在 <code>request header</code> 中加入 <code>If-Modified-Since</code>（对应于 <code>Last-modified</code> ）， 和 <code>If-None-Match</code>（对应于 <code>Etag</code> ）。</p> <table><thead><tr><th style="text-align:left;">Cache-directive</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">Last-modified</td> <td style="text-align:left;">表明请求的资源上次的修改时间</td></tr> <tr><td style="text-align:left;">If-Modified-Since</td> <td style="text-align:left;">客户端保留的资源上次的修改时间</td></tr> <tr><td style="text-align:left;">Etag</td> <td style="text-align:left;">资源的内容标识。<br> 不唯一，通常为文件的md5或者一段hash值。<br>只要保证写入和验证时的方法一致即可</td></tr> <tr><td style="text-align:left;">If-None-Match</td> <td style="text-align:left;">客户端保留的资源内容标识</td></tr></tbody></table> <p><a href="https://juejin.im/post/5c4044cd51882524f23032eb?utm_source=gold_browser_extension" target="_blank" rel="noopener noreferrer">掘金 - 从前端角度理解缓存<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="tcp三次握手和四次挥手"><a href="#tcp三次握手和四次挥手" class="header-anchor">#</a> TCP三次握手和四次挥手</h2> <p><a href="https://mp.weixin.qq.com/s/pSrKbVryn71kDVIXUtpXMA" target="_blank" rel="noopener noreferrer">跟着动画学习TCP三次握手和四次挥手<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="何为dns-prefetch优化？"><a href="#何为dns-prefetch优化？" class="header-anchor">#</a> 何为<code>dns-prefetch</code>优化？</h2> <p><a href="https://lijiahao8898.github.io/2017/08/28/dns-prefetch" target="_blank" rel="noopener noreferrer">dns-prefetch<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="五层因特网协议栈"><a href="#五层因特网协议栈" class="header-anchor">#</a> 五层因特网协议栈</h2> <p>从应用层的发送http请求，到传输层通过三次握手建立tcp/ip连接，再到网络层的ip寻址，再到数据链路层的封装成帧，最后到物理层的利用物理介质传输。</p> <ol><li>应用层(dns,http) DNS解析成IP并发送http请求</li> <li>传输层(tcp,udp) 建立tcp连接（三次握手）</li> <li>网络层(IP,ARP) IP寻址</li> <li>数据链路层(PPP) 封装成帧</li> <li>物理层(利用物理介质传输比特流) 物理传输（然后传输的时候通过双绞线，电磁波等各种介质）</li></ol> <p>OSI七层框架：<code>物理层</code>、<code>数据链路层</code>、<code>网络层</code>、<code>传输层</code>、<code>会话层</code>、<code>表示层</code>、<code>应用层</code></p> <p>表示层：主要处理两个通信系统中交换信息的表示方式，包括数据格式交换，数据加密与解密，数据压缩与终端类型转换等</p> <p>会话层：它具体管理不同用户和进程之间的对话，如控制登陆和注销过程</p> <h2 id="cdn的好处"><a href="#cdn的好处" class="header-anchor">#</a> CDN的好处</h2> <ul><li>增加并发请求</li> <li>缓存文件</li> <li>高效率，更低的网络延迟，更小的丢包率</li> <li>使用数据分析（一般情况下CDN提供商（如百度云加速）都会提供数据统计功能，可以了解更多关于用户访问自己网站的情况，可以根据统计数据对自己的站点适时适当的做出些许调整。）</li> <li>防止网站被攻击</li></ul> <h2 id="xss跨站脚本攻击"><a href="#xss跨站脚本攻击" class="header-anchor">#</a> <code>XSS</code>跨站脚本攻击</h2> <p><code>XSS</code>跨站脚本攻击通过网页漏洞来执行恶意的<code>Javascript</code>代码。</p> <h3 id="存储型xss攻击"><a href="#存储型xss攻击" class="header-anchor">#</a> 存储型<code>XSS</code>攻击</h3> <p>利用漏洞提交恶意<code>JavaScript</code>代码，比如在input, textarea等所有可能输入文本信息的区域，输入javascript恶意代码等
提交后信息会存在服务器中，当用户再次打开网站请求到相应的数据，打开页面，恶意脚本就会将用户的 Cookie 信息等数据上传到黑客服务器。</p> <h3 id="反射型-xss-攻击"><a href="#反射型-xss-攻击" class="header-anchor">#</a> 反射型 XSS 攻击</h3> <p>QQ邮件等发送过来的恶意链接。</p> <h3 id="基于dom的xss攻击"><a href="#基于dom的xss攻击" class="header-anchor">#</a> 基于<code>DOM</code>的<code>XSS</code>攻击</h3> <p>基于 DOM 的 XSS 攻击是不牵涉到页面 Web 服务器的。它的特点是在 Web 资源传输过程或者在用户使用页面的过程中修改 Web 页面的数据。
比如利用工具(如Burpsuite)扫描目标网站所有的网页并自动测试写好的注入脚本等。</p> <h3 id="xss预防"><a href="#xss预防" class="header-anchor">#</a> XSS预防</h3> <ol><li>将cookie等敏感信息设置为httponly，禁止Javascript通过document.cookie获得</li> <li>对所有的输入做严格的校验尤其是在服务器端，过滤掉任何不合法的输入，比如手机号必须是数字，通常可以采用正则表达式.</li> <li>净化和过滤掉不必要的html标签，比如：iframe, alt,script ;净化和过滤掉不必要的Javascript的事件标签，比如：onclick, onfocus等</li> <li>转义单引号，双引号，尖括号等特殊字符，可以采用htmlencode编码 或者过滤掉这些特殊字符</li> <li>CSP,CSP 全称为 Content Security Policy，即内容安全策略。主要以白名单的形式配置可信任的内容来源，在网页中，能够使白名单中的内容正常执行（包含 JS，CSS，Image 等等），而非白名单的内容无法正常执行，从而减少跨站脚本攻击（XSS），当然，也能够减少运营商劫持的内容注入攻击。</li></ol> <p>配置方式：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//1、meta
&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;script-src 'self'&quot;&gt;

//2、Http 头部
Content-Security-Policy:
script-src 'unsafe-inline' 'unsafe-eval' 'self' *.54php.cn *.yunetidc.com *.baidu.com *.cnzz.com *.duoshuo.com *.jiathis.com;report-uri /error/csp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="csrf跨站请求伪造"><a href="#csrf跨站请求伪造" class="header-anchor">#</a> <code>CSRF</code>跨站请求伪造</h2> <p><code>CSRF</code>跨站请求伪造（Cross-site request forgery）引诱用户打开黑客的网站，在黑客的网站中，利用用户的登录状态发起的跨站请求。</p> <p>发生<code>CSRF</code>的必要条件：</p> <ol><li>目标站点一定要有 CSRF 漏洞；</li> <li>用户要登录过目标站点，并且在浏览器上保持有该站点的登录状态；</li> <li>需要用户打开一个第三方站点，如黑客的站点等。</li></ol> <h3 id="csrf预防"><a href="#csrf预防" class="header-anchor">#</a> CSRF预防</h3> <ol><li>充分利用好 Cookie 的 SameSite 属性。</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>set-cookie: 1P_JAR=2019-10-20-06; expires=Tue, 19-Nov-2019 06:36:21 GMT; path=/; domain=.google.com; SameSite=none
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>验证请求的来源站点
验证HTTP请求头中的<code>Origin</code>和<code>Referer</code>。</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>Accept: */*
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Cache-Control: no-cache
Connection: keep-alive
Host: comment-wrapper-ms.juejin.im
Origin: https://juejin.im
Pragma: no-cache
Referer: https://juejin.im/post/5dca1b376fb9a04a9f11c82e
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-site
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36
X-Juejin-Client: 1574834410506
X-Juejin-Src: web
X-Juejin-Token: eyJhY2Nlc3NfdG9rZW4iOiJXOXduNFBaT1RpdGhrRzdaIiwicmVmcmVzaF90b2tlbiI6ImwwVjVJcERlV3BrOGVpc0wiLCJ0b2tlbl90eXBlIjoibWFjIiwiZXhwaXJlX2luIjoyNTkyMDAwfQ==
X-Juejin-Uid: 59c9cedbf265da06690875a6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol start="3"><li>在请求地址中添加token并验证
token前可以增加约定好的随机的字符串</li></ol> <h2 id="todo-lists"><a href="#todo-lists" class="header-anchor">#</a> TODO LISTS</h2> <ul><li>dns查询</li> <li>getComputedStyle</li> <li>window.getComputedStyle == document.defaultView.getComputedStyle</li> <li>window.getComputedStyle(elem, null).getPropertyValue(&quot;height&quot;)
window.getComputedStyle(elem, null).getPropertyValue(&quot;height&quot;)可能的值为100px，而且，就算是css上写的是inherit，getComputedStyle也会把它最终计算出来的。不过注意，如果元素的背景色透明，那么getComputedStyle获取出来的就是透明的这个背景（因为透明本身也是有效的），而不会是父节点的背景。所以它不一定是最终显示的颜色。</li> <li>getComputedStyle会引起回流，因为它需要获取祖先节点的一些信息进行计算（譬如宽高等），所以用的时候慎用，回流会引起性能问题。</li> <li>其他回流：offsetXXX，scrollXXX，clientXXX，currentStyle</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">12/11/2019, 4:26:00 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/ability-to-improve/style/LESS.html" class="prev">
          LESS
        </a></span> <span class="next"><a href="/ability-to-improve/vue/">
          Vuejs
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ability-to-improve/assets/js/app.0113e568.js" defer></script><script src="/ability-to-improve/assets/js/3.89789aeb.js" defer></script><script src="/ability-to-improve/assets/js/2.796c295c.js" defer></script><script src="/ability-to-improve/assets/js/15.4ead2b45.js" defer></script>
  </body>
</html>
